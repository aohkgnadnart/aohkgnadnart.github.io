<!doctype html><html lang=en dir=ltr><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://localhost:1313/tags/dfs-and-similar/"><meta property="og:site_name" content="Aohkgnadnart Blog"><meta property="og:title" content="Dfs and Similar"><meta property="og:locale" content="en"><meta property="og:type" content="website"><title>Dfs and Similar | Aohkgnadnart Blog</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://localhost:1313/tags/dfs-and-similar/><link rel=stylesheet href=/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.13e139159b5ca30479736515fd7347cdfcfa90e8d16be14160001aec6b9261cd.js integrity="sha256-E+E5FZtcowR5c2UV/XNHzfz6kOjRa+FBYAAa7GuSYc0=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><link rel=alternate type=application/rss+xml href=http://localhost:1313/tags/dfs-and-similar/index.xml title="Aohkgnadnart Blog"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Aohkgnadnart Blog</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></label><ul><li><a href=/zh/>Chinese</a></li><li><a href=/he/>Hebrew</a></li></ul></li></ul><ul><li class=book-section-flat><a href=/docs/example/>Trang Chá»§</a><ul><li><input type=checkbox id=section-a5446993f02613041412a70215fe0f5e class=toggle>
<label for=section-a5446993f02613041412a70215fe0f5e class="flex justify-between"><a role=button>Interview</a></label><ul><li><input type=checkbox id=section-aeab3a266eabe870acc3c276e725ff38 class=toggle>
<label for=section-aeab3a266eabe870acc3c276e725ff38 class="flex justify-between"><a href=/docs/example/collapsed/3rd-level/>C++</a></label><ul></ul></li></ul></li></ul></li></ul><ul><li><a href=/posts/>Competitive Programming</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Dfs and Similar</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/2d/>2d</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/binary-search/>Binary Search</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/brute-force/>Brute Force</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/combinatorics/>Combinatorics</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/connected-component/>Connected Component</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/constructive-algorithms/>Constructive Algorithms</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/cp/>Cp</a>
<span>62</span></li><li class="flex justify-between"><a href=/tags/cycle/>Cycle</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/data-structure/>Data Structure</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/dfs-and-similar/>Dfs and Similar</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/digit/>Digit</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/dirichlet/>Dirichlet</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/dp/>Dp</a>
<span>19</span></li><li class="flex justify-between"><a href=/tags/dsu/>Dsu</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/fenwick/>Fenwick</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/geometry/>Geometry</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/graph/>Graph</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/greedy/>Greedy</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/hashing/>Hashing</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/implementation/>Implementation</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/indexed_set/>Indexed_set</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/interactive/>Interactive</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/lazy/>Lazy</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/lca/>Lca</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/lcs/>Lcs</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/math/>Math</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/median/>Median</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/mex/>Mex</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/number-theory/>Number Theory</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/palindrome/>Palindrome</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/path-compression/>Path-Compression</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/pending/>Pending</a>
<span>13</span></li><li class="flex justify-between"><a href=/tags/permutation/>Permutation</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/real-values/>Real Values</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/recursion/>Recursion</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/segment-tree/>Segment Tree</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/strings/>Strings</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/swap/>Swap</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/theory-number/>Theory Number</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/tree/>Tree</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/trie/>Trie</a>
<span>2</span></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h2><a href=/posts/2021-11-02-BestSumAnyTreePath/>Problem: Best Sum Any Tree Path</a></h2><div class=text-small><a href=/tags/cp/>Cp</a>,
<a href=/tags/tree/>Tree</a>,
<a href=/tags/dfs-and-similar/>Dfs and Similar</a>,
<a href=/tags/dp/>Dp</a></div><p><p>Cho cÃ¢y cÃ³ n <code>(1 â‰¤ n â‰¤ 1e5)</code> Ä‘á»‰nh Ä‘Ã¡nh sá»‘ tá»« 0 tá»›i n - 1, cha cá»§a cÃ¡c Ä‘á»‰nh vÃ  trá»ng sá»‘ cá»§a cÃ¡c Ä‘á»‰nh. TÃ¬m Ä‘Æ°á»£c Ä‘i cÃ³ tá»•ng trá»ng sá»‘ lá»›n nháº¥t.
Biáº¿t <code>root = 0</code>, <code>parent[0] = -1</code></p><p><img src=https://user-images.githubusercontent.com/83690404/139783508-40aba718-91f5-4761-8946-5f93adada1c7.png alt="Screenshot 2021-11-02 101706"></p><a href=/posts/2021-11-02-BestSumAnyTreePath/>...</a></p></article><article class="markdown book-post"><h2><a href=/posts/2021-12-17-CrazyRobot/>Problem: Crazy Robot</a></h2><div class=text-small><a href=/tags/cp/>Cp</a>,
<a href=/tags/2d/>2d</a>,
<a href=/tags/dfs-and-similar/>Dfs and Similar</a></div><p><p>CÃ³ má»™t lÆ°á»›i, bao gá»“m n hÃ ng vÃ  m cá»™t. Má»—i Ã´ cá»§a lÆ°á»›i lÃ  tá»± do hoáº·c bá»‹ cháº·n. Má»™t trong nhá»¯ng Ã´ trá»‘ng chá»©a phÃ²ng thÃ­ nghiá»‡m. Táº¥t cáº£ cÃ¡c Ã´ bÃªn ngoÃ i Ä‘Æ°á»ng viá»n cá»§a lÆ°á»›i cÅ©ng bá»‹ cháº·n.</p><p>Má»™t ngÆ°á»i mÃ¡y Ä‘iÃªn rá»“ Ä‘Ã£ trá»‘n thoÃ¡t khá»i phÃ²ng thÃ­ nghiá»‡m nÃ y. NÃ³ hiá»‡n Ä‘ang á»Ÿ trong má»™t sá»‘ Ã´ trá»‘ng cá»§a lÆ°á»›i. Báº¡n cÃ³ thá»ƒ gá»­i má»™t trong cÃ¡c lá»‡nh sau tá»›i rÃ´ bá»‘t: &ldquo;di chuyá»ƒn sang pháº£i&rdquo;, &ldquo;di chuyá»ƒn xuá»‘ng&rdquo;, &ldquo;di chuyá»ƒn sang trÃ¡i&rdquo; hoáº·c &ldquo;di chuyá»ƒn lÃªn trÃªn&rdquo;. Má»—i lá»‡nh cÃ³ nghÄ©a lÃ  di chuyá»ƒn Ä‘áº¿n má»™t Ã´ lÃ¢n cáº­n theo hÆ°á»›ng tÆ°Æ¡ng á»©ng.</p><p>Tuy nhiÃªn, vÃ¬ robot Ä‘iÃªn, nÃ³ sáº½ lÃ m báº¥t cá»© Ä‘iá»u gÃ¬ ngoáº¡i trá»« viá»‡c tuÃ¢n theo lá»‡nh. Khi nháº­n Ä‘Æ°á»£c lá»‡nh, nÃ³ sáº½ chá»n má»™t hÆ°á»›ng khÃ¡c vá»›i hÆ°á»›ng trong lá»‡nh vÃ  Ã´ á»Ÿ hÆ°á»›ng Ä‘Ã³ khÃ´ng bá»‹ cháº·n. Náº¿u cÃ³ má»™t hÆ°á»›ng nhÆ° váº­y, thÃ¬ nÃ³ sáº½ di chuyá»ƒn Ä‘áº¿n má»™t Ã´ lÃ¢n cáº­n theo hÆ°á»›ng Ä‘Ã³. Náº¿u khÃ´ng, nÃ³ sáº½ khÃ´ng lÃ m gÃ¬ cáº£.</p><p>ChÃºng tÃ´i muá»‘n Ä‘Æ°a robot Ä‘áº¿n phÃ²ng thÃ­ nghiá»‡m Ä‘á»ƒ sá»­a nÃ³. Äá»‘i vá»›i má»—i Ã´ trá»‘ng, hÃ£y xÃ¡c Ä‘á»‹nh xem liá»‡u robot cÃ³ thá»ƒ bá»‹ buá»™c Ä‘áº¿n phÃ²ng thÃ­ nghiá»‡m báº¯t Ä‘áº§u tá»« Ã´ nÃ y hay khÃ´ng. CÃ³ nghÄ©a lÃ , sau má»—i bÆ°á»›c cá»§a rÃ´ bá»‘t, má»™t lá»‡nh cÃ³ thá»ƒ Ä‘Æ°á»£c gá»­i Ä‘áº¿n rÃ´ bá»‘t sao cho báº¥t ká»ƒ rÃ´ bá»‘t chá»n hÆ°á»›ng nÃ o khÃ¡c nhau, nÃ³ sáº½ káº¿t thÃºc trong phÃ²ng thÃ­ nghiá»‡m.</p><p><strong>RÃ ng buá»™c</strong></p><pre tabindex=0><code>1â‰¤tâ‰¤1000
1â‰¤n,mâ‰¤1e6; n x mâ‰¤1e6
&#39;.&#39; â€” the cell is free;
&#39;#&#39; â€” the cell is blocked;
&#39;L&#39; â€” the cell contains a lab.
The grid contains exactly one lab. The sum of nâ‹…m over all testcases doesn&#39;t exceed 106.
</code></pre><p><strong>Input</strong></p><pre tabindex=0><code>4
3 3
...
.L.
...
4 5
#....
..##L
...#.
.....
1 1
L
1 9
....L..#.
</code></pre><p><strong>Output</strong></p><pre tabindex=0><code>...
.L.
...
#++++
..##L
...#+
...++
L
++++L++#.
</code></pre><a href=/posts/2021-12-17-CrazyRobot/>...</a></p></article><article class="markdown book-post"><h2><a href=/posts/2021-10-21-quangcao/>Problem: Quáº£ng cÃ¡o</a></h2><div class=text-small><a href=/tags/cp/>Cp</a>,
<a href=/tags/graph/>Graph</a>,
<a href=/tags/dfs-and-similar/>Dfs and Similar</a>,
<a href=/tags/cycle/>Cycle</a>,
<a href=/tags/dsu/>Dsu</a></div><p><p>NhÃ¢n dá»‹p Táº¿t sáº¯p Ä‘áº¿n cÃ´ng ty Jelly-for-Kids quyáº¿t Ä‘á»‹nh tÄƒng cÆ°á»ng viá»‡c quáº£ng bÃ¡ sáº£n pháº©m Ä‘áº¿n ngÆ°á»i tiÃªu dÃ¹ng. VÃ¬ tháº¿ giÃ¡m Ä‘á»‘c marketing, Ã´ng Fruit-Jelly muá»‘n gá»­i Ä‘i sá»‘ lÆ°á»£ng nhÃ¢n viÃªn tá»‘i Ä‘a cÃ³ thá»ƒ, lÃ m nhiá»‡m vá»¥ tiáº¿p thá»‹ táº¡i Ä‘áº¡i lÃ½ trong thÃ nh phá»‘</p><p>Trong thÃ nh phá»‘ cÃ³ m con Ä‘Æ°á»ng, n Ä‘áº¡i lÃ½ bÃ¡n káº¹o (Ä‘Ã¡nh sá»‘ tá»« 1 Ä‘áº¿n n). Má»—i con Ä‘Æ°á»ng chá»‰ ná»‘i trá»±c tiáº¿p giá»¯a 2 Ä‘áº¡i lÃ½, vÃ  Ä‘Æ°á»£c kÃ½ hiá»‡u báº±ng chá»‰ sá»‘ cá»§a 2 Ä‘áº¡i lÃ½ mÃ  nÃ³ ná»‘i. Äá»“ng thá»i, giá»¯a 2 Ä‘áº¡i lÃ½ báº¥t ká»³ cÃ³ khÃ´ng quÃ¡ 1 con Ä‘Æ°á»ng ná»‘i chÃºng</p><p>Ã”ng Fruit-Jelly nghÄ© ráº±ng, Ã´ng ta sáº½ quáº£n lÃ½ nhÃ¢n viÃªn dá»… hÆ¡n náº¿u xáº¿p má»—i ngÆ°á»i tiáº¿p thá»‹ trÃªn nhá»¯ng hÃ nh trÃ¬nh cÃ³ tÃ­nh cháº¥t thá»© tá»±. Tá»©c lÃ  nhá»¯ng Ä‘áº¡i lÃ½ bÃ¡n káº¹o trÃªn hÃ nh trÃ¬nh Ä‘Ã³ thá»a cÃ¡c Ä‘iá»u kiá»‡n sau</p><p>CÃ³ Ä‘Æ°á»ng ná»‘i trá»±c tiáº¿p giá»¯a 2 Ä‘áº¡i lÃ½ liÃªn tiáº¿p nhau trÃªn hÃ nh trÃ¬nh</p><p>Tá»« má»™t Ä‘áº¡i lÃ½ báº¥t ká»³ trong hÃ nh trÃ¬nh cÃ³ thá»ƒ Ä‘i qua táº¥t cáº£ cÃ¡c Ä‘oáº¡n Ä‘Æ°á»ng trong hÃ nh trÃ¬nh Ä‘Ã³ rá»“i trá»Ÿ vá» nÆ¡i xuáº¥t phÃ¡t mÃ  khÃ´ng Ä‘i qua Ä‘oáº¡n Ä‘Æ°á»ng nÃ o quÃ¡ má»™t láº§n</p><p>HÃ nh trÃ¬nh phÃ¢n cÃ´ng cho má»—i nhÃ¢n viÃªn pháº£i cÃ³ Ã­t nháº¥t má»™t Ä‘oáº¡n Ä‘Æ°á»ng chÆ°a cÃ³ nhÃ¢n viÃªn nÃ o khÃ¡c Ä‘i tiáº¿p thá»‹.</p><p>Má»—i nhÃ¢n viÃªn chá»‰ di chuyá»ƒn trÃªn hÃ nh trÃ¬nh mÃ  anh ta Ä‘Æ°á»£c phÃ¢n cÃ´ng. HÃ£y tÃ­nh sá»‘ lÆ°á»£ng nhÃ¢n viÃªn tá»‘i Ä‘a mÃ  Ã´ng Fruit-Jelly cÃ³ thá»ƒ xáº¿p viá»‡c, vÃ  hÃ nh trÃ¬nh cá»¥ thá»ƒ mÃ  má»—i ngÆ°á»i Ä‘Æ°á»£c xáº¿p.</p><p><strong>RÃ ng buá»™c</strong></p><pre tabindex=0><code>N &lt;= 2000
M &lt;= 5000
</code></pre><p><strong>Input</strong></p><pre tabindex=0><code>5 6
1 2
2 4
4 5
3 5
1 3
2 3
</code></pre><p><strong>Output</strong></p><pre tabindex=0><code>2
</code></pre><a href=/posts/2021-10-21-quangcao/>...</a></p></article><article class="markdown book-post"><h2><a href=/posts/2021-12-02-RoadImprovement/>Problem: Road Improvement</a></h2><div class=text-small><a href=/tags/cp/>Cp</a>,
<a href=/tags/tree/>Tree</a>,
<a href=/tags/dp/>Dp</a>,
<a href=/tags/dfs-and-similar/>Dfs and Similar</a></div><p><p>Äáº¥t nÆ°á»›c cÃ³ <code>n</code> thÃ nh phá»‘ vÃ  <code>nâ€‰- 1</code> con Ä‘Æ°á»ng hai chiá»u, báº¡n cÃ³ thá»ƒ Ä‘i tá»« má»i thÃ nh phá»‘ nÃ y Ä‘áº¿n báº¥t ká»³ thÃ nh phá»‘ nÃ o khÃ¡c náº¿u báº¡n chá»‰ di chuyá»ƒn dá»c theo cÃ¡c con Ä‘Æ°á»ng. CÃ¡c thÃ nh phá»‘ Ä‘Æ°á»£c Ä‘Ã¡nh sá»‘ báº±ng cÃ¡c sá»‘ nguyÃªn tá»« <code>1</code> Ä‘áº¿n <code>n</code>.</p><p>Táº¥t cáº£ cÃ¡c con Ä‘Æ°á»ng ban Ä‘áº§u Ä‘á»u xáº¥u, nhÆ°ng chÃ­nh phá»§ muá»‘n cáº£i thiá»‡n tÃ¬nh tráº¡ng cá»§a má»™t sá»‘ con Ä‘Æ°á»ng. ChÃºng tÃ´i sáº½ cho ráº±ng ngÆ°á»i dÃ¢n hÃ i lÃ²ng vá» viá»‡c cáº£i táº¡o Ä‘Æ°á»ng náº¿u con Ä‘Æ°á»ng tá»« thá»§ Ä‘Ã´ náº±m á»Ÿ thÃ nh phá»‘ <code>x</code> Ä‘áº¿n báº¥t ká»³ thÃ nh phá»‘ nÃ o khÃ¡c cÃ³ nhiá»u nháº¥t má»™t con Ä‘Æ°á»ng xáº¥u.</p><p>Nhiá»‡m vá»¥ cá»§a báº¡n lÃ  vá»›i má»i <code>x</code> cÃ³ thá»ƒ xÃ¡c Ä‘á»‹nh sá»‘ cÃ¡ch cáº£i thiá»‡n cháº¥t lÆ°á»£ng cá»§a má»™t sá»‘ con Ä‘Æ°á»ng Ä‘á»ƒ Ä‘Ã¡p á»©ng Ä‘iá»u kiá»‡n cá»§a ngÆ°á»i dÃ¢n. VÃ¬ nhá»¯ng giÃ¡ trá»‹ Ä‘Ã³ cÃ³ thá»ƒ khÃ¡ lá»›n, báº¡n cáº§n in tá»«ng mÃ´-Ä‘un giÃ¡ trá»‹ <code>1000000007</code>.</p><p><strong>RÃ ng buá»™c</strong></p><pre tabindex=0><code>n &lt;= 2e5
</code></pre><p><strong>Input</strong></p><pre tabindex=0><code>3
1 1
</code></pre><p><strong>Output</strong></p><pre tabindex=0><code>4 3 3
</code></pre><a href=/posts/2021-12-02-RoadImprovement/>...</a></p></article><article class="markdown book-post"><h2><a href=/posts/2021-10-12-TheNumberofImposters/>Problem: The Number of Imposters</a></h2><div class=text-small><a href=/tags/cp/>Cp</a>,
<a href=/tags/graph/>Graph</a>,
<a href=/tags/dfs-and-similar/>Dfs and Similar</a>,
<a href=/tags/connected-component/>Connected Component</a></div><p><p>Cho <code>n</code> ngÆ°á»i chÆ¡i cÃ¹ng chÆ¡i game. má»—i ngÆ°á»i sáº½ lÃ  <code>imposter</code> hoáº·c <code>crewmate</code>. <code>imposter</code> lÃ  ngÆ°á»i luÃ´n nÃ³i dá»‘i, cewmate lÃ  ngÆ°á»i luÃ´n nÃ³i tháº­t. cho <code>m</code> nháº­n xÃ©t cÃ³ dáº¡ng <code>(i, j, c)</code> vÃ­ dá»¥: <code>1 2 imposter</code>, tá»©c lÃ  ngÆ°á»i chÆ¡i <code>1</code> nÃ³i ngÆ°á»i chÆ¡i <code>2</code> lÃ  <code>imposter</code>, nhÆ° váº­y náº¿u ngÆ°á»i chÆ¡i <code>2</code> Ä‘Ãºng lÃ  <code>imposter</code> thÃ¬ ngÆ°á»i chÆ¡i <code>1</code> lÃ  <code>crewmate</code>, vÃ  ngÆ°á»£c láº¡i.
TÃ­nh sá»‘ lÆ°á»£ng <strong>tá»‘i Ä‘a</strong> imposter trong game.</p><p><strong>RÃ ng buá»™c</strong></p><pre tabindex=0><code>1â‰¤tâ‰¤1e4
1â‰¤nâ‰¤2e5
0â‰¤mâ‰¤5e5
the structure &#34;i j c&#34; where i and j are two distinct integers and c is a string (1â‰¤i,jâ‰¤n; iâ‰ j; c is either imposter or crewmate
There can be multiple comments for the same pair of (i,j).
It is guaranteed that the sum of all n does not exceed 2e5 and the sum of all m does not exceed 5e5.
</code></pre><p><strong>Input</strong></p><pre tabindex=0><code>5
3 2
1 2 imposter
2 3 crewmate
5 4
1 3 crewmate
2 5 crewmate
2 4 imposter
3 4 imposter
2 2
1 2 imposter
2 1 crewmate
3 5
1 2 imposter
1 2 imposter
3 2 crewmate
3 2 crewmate
1 3 imposter
5 0
</code></pre><p><strong>Output</strong></p><pre tabindex=0><code>2
4
-1
2
5
</code></pre><a href=/posts/2021-10-12-TheNumberofImposters/>...</a></p></article><article class="markdown book-post"><h2><a href=/posts/2021-12-17-TomandJery/>Problem: Tom and Jery</a></h2><div class=text-small><a href=/tags/cp/>Cp</a>,
<a href=/tags/tree/>Tree</a>,
<a href=/tags/dfs-and-similar/>Dfs and Similar</a>,
<a href=/tags/dp/>Dp</a></div><p><p>Tom vÃ  Jerry Ä‘ang Ä‘uá»•i theo nhau trong má»™t mÃª cung Ä‘Æ°á»£c hÃ¬nh thÃ nh nhÆ° má»™t cÃ¡i cÃ¢y.
CÃ¢y nÃ y cÃ³ <code>ğ‘›</code> nÃºt. Jerry hiá»‡n Ä‘ang á»Ÿ nÃºt <code>ğ‘¥</code> vÃ  cÃ³ má»™t quáº£ bom do Tom Ä‘áº·t á»Ÿ Ä‘Ã¢y.
Bom cÃ³ táº§m báº¯n <code>ğ‘¡</code> nÃªn khi phÃ¡t ná»•, táº¥t cáº£ cÃ¡c nÃºt cÃ³ khoáº£ng cÃ¡ch Ä‘áº¿n nÃºt ğ‘¥ nhá» hÆ¡n hoáº·c báº±ng <code>ğ‘¡</code> sáº½ bá»‹ chÃ¡y.
Náº¿u Jerry bá»‹ chÃ¡y, anh ta sáº½ bá»‹ ngáº¥t vÃ  bá»‹ Tom báº¯t. Táº¥t nhiÃªn, Jerry muá»‘n thoÃ¡t khá»i khu vá»±c phÃ¡t ná»• báº±ng cÃ¡ch cháº¡y qua cÃ¡c cáº¡nh trong mÃª cung.
Máº·t khÃ¡c, Tom muá»‘n báº¯t Jerry nÃªn Ä‘á»‹nh cháº·n má»™t vÃ i cáº¡nh trÃªn mÃª cung Ä‘á»ƒ Jerry khÃ´ng thá»ƒ di chuyá»ƒn qua cÃ¡c cáº¡nh nÃ y.
Nhiá»‡m vá»¥: ÄÆ°a ra má»™t táº­p há»£p <code>ğ‘š</code> truy váº¥n, má»—i truy váº¥n cÃ³ hai sá»‘ <code>ğ‘¥</code> vÃ  <code>ğ‘¡</code>, cho biáº¿t nÃºt ban Ä‘áº§u mÃ  Jerry vÃ  quáº£ bom hiá»‡n Ä‘ang á»Ÿ, vÃ  pháº¡m vi cá»§a quáº£ bom.
HÃ£y giÃºp Tom tÃ¬m sá»‘ cáº¡nh tá»‘i thiá»ƒu pháº£i cháº·n Ä‘á»ƒ báº¯t Ä‘Æ°á»£c Jerry</p><p><strong>RÃ ng buá»™c</strong></p><pre tabindex=0><code>1 â‰¤ ğ‘›, ğ‘š â‰¤ 1e5
1 â‰¤ ğ‘¢, ğ‘£ â‰¤ ğ‘›; ğ‘¢ â‰  ğ‘£
1 â‰¤ ğ‘¥ â‰¤ ğ‘›; 0 â‰¤ ğ‘¡ â‰¤ ğ‘›
</code></pre><p><strong>Input</strong></p><pre tabindex=0><code>7 3
1 2
2 3
2 4
3 5
3 6
4 7
4 1
2 2
2 1
</code></pre><p><strong>Output</strong></p><pre tabindex=0><code>1
0
2
</code></pre><a href=/posts/2021-12-17-TomandJery/>...</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav><ul><li class=book-section-flat><strong>Categories</strong><ul></ul></li><li class=book-section-flat><strong>Tags</strong><ul><li class="flex justify-between"><a href=/tags/2d/>2d</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/binary-search/>Binary Search</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/brute-force/>Brute Force</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/combinatorics/>Combinatorics</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/connected-component/>Connected Component</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/constructive-algorithms/>Constructive Algorithms</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/cp/>Cp</a>
<span>62</span></li><li class="flex justify-between"><a href=/tags/cycle/>Cycle</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/data-structure/>Data Structure</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/dfs-and-similar/>Dfs and Similar</a>
<span>6</span></li><li class="flex justify-between"><a href=/tags/digit/>Digit</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/dirichlet/>Dirichlet</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/dp/>Dp</a>
<span>19</span></li><li class="flex justify-between"><a href=/tags/dsu/>Dsu</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/fenwick/>Fenwick</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/geometry/>Geometry</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/graph/>Graph</a>
<span>4</span></li><li class="flex justify-between"><a href=/tags/greedy/>Greedy</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/hashing/>Hashing</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/implementation/>Implementation</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/indexed_set/>Indexed_set</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/interactive/>Interactive</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/lazy/>Lazy</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/lca/>Lca</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/lcs/>Lcs</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/math/>Math</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/median/>Median</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/mex/>Mex</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/number-theory/>Number Theory</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/palindrome/>Palindrome</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/path-compression/>Path-Compression</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/pending/>Pending</a>
<span>13</span></li><li class="flex justify-between"><a href=/tags/permutation/>Permutation</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/real-values/>Real Values</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/recursion/>Recursion</a>
<span>3</span></li><li class="flex justify-between"><a href=/tags/segment-tree/>Segment Tree</a>
<span>2</span></li><li class="flex justify-between"><a href=/tags/strings/>Strings</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/swap/>Swap</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/theory-number/>Theory Number</a>
<span>1</span></li><li class="flex justify-between"><a href=/tags/tree/>Tree</a>
<span>5</span></li><li class="flex justify-between"><a href=/tags/trie/>Trie</a>
<span>2</span></li></ul></li></ul></nav></div></aside></main></body></html>